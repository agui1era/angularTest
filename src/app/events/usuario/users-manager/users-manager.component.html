<div class="formulario">
  <form [formGroup]="dataForm" (ngSubmit)="onSubmit()">
    <fieldset>
      <legend>Crear un Usuario</legend>
      <div class="row mt-2">
        <div class="col-12">
          <mat-form-field>
            <input matInput required formControlName="usuario" type="text" placeholder="Usuario">

          </mat-form-field>
        </div>

        <div *ngIf="f.usuario.invalid && f.usuario.touched " style="margin: 0" class=" col-12">
          <app-error-form textAlert="Usuario requerido"
          ></app-error-form>
        </div>

        <div class="col-12">
          <mat-form-field>
            <input matInput required formControlName="nombre" type="text" placeholder="Nombre">

          </mat-form-field>
        </div>
      </div>
      <div class="row mt-2">
        <div class="col-12">
          <mat-form-field>
            <input matInput required formControlName="apellido" type="text"  placeholder="Apellido">

          </mat-form-field>
        </div>
        <div class="col-12">
          <p style="color: rgba(0, 0, 0, 0.38)">Foto</p>
          <input type="file" (change)="handleUpload($event)">
          <img src="{{inputFoto}}" height="75" alt="">
        </div>
        <div class="col-12">
          <mat-form-field>
            <input required matInput formControlName="email" type="text"  placeholder="Correo electronico">
          </mat-form-field>
        </div>
        <div *ngIf="f.email.invalid && f.email.touched " style="margin: 0" class=" col-12">
          <app-error-form textAlert="El correo debe ser valido"
          ></app-error-form>
        </div>
      </div>
      <div class="row mt-2">
        <div class="col">
          <mat-form-field>
            <mat-select placeholder="Rol" required formControlName="role">
              <mat-option value="administrador">Administrador</mat-option>
              <mat-option value="supervisor">Supervisor</mat-option>
              <mat-option value="operador">Operador</mat-option>
            </mat-select>
          </mat-form-field>

        </div>
      </div>
      <div class="row justify-content-between mt-3" style="padding-left: 15px;padding-right: 15px">
        <div (click)="limpiar()" class="btn btn-primary ">limpiar</div>
        <button [disabled]="isLoading || this.dataForm.invalid"
                class="btn btn-success ">{{editing ? 'Guardar' : 'Agregar'}}
          <span *ngIf="isLoading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        </button>

      </div>
    </fieldset>

  </form>
</div>
