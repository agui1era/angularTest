<app-mi-loader *ngIf="loading"></app-mi-loader>
<div class="container">
  <div class="row">
    <div class="col-12">
      Crear una parada
    </div>
    <div class="col-12">
      <mat-form-field>
        <mat-label>
          Máquina
        </mat-label>
        <mat-select (selectionChange)="cambioMaquina()" [(ngModel)]="selectedMachine">
          <mat-option [value]="maq.id" *ngFor="let maq of maquinasList">
            {{maq.nombre}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    <!--  <mat-form-field>
        <mat-label>
          Categoría
        </mat-label>
        <mat-select [disabled]="!selectedMachine" (selectionChange)="chooseDetentions()" [(ngModel)]="selectedCategory">
          <mat-option [hidden]="cat.tipo == 'programada'" [value]="cat.id" *ngFor="let cat of categoryList">
            {{cat.nombre}}
          </mat-option>
        </mat-select>
      </mat-form-field>-->
      <mat-form-field>
        <mat-label>
          Parada
        </mat-label>
        <mat-select  [(ngModel)]="selectedDetention">
          <mat-option [value]="det" *ngFor="let det of data?.listaDetenciones">
            {{det}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>
          Fecha inicio
        </mat-label>
        <input [(ngModel)]="fechaI" matInput type="datetime-local">
      </mat-form-field>
      <mat-form-field>
        <mat-label>
          Fecha fin
        </mat-label>
        <input [(ngModel)]="fechaF" matInput type="datetime-local">
      </mat-form-field>
      <mat-form-field>
        <mat-label>
          Comentario
        </mat-label>
        <textarea [(ngModel)]="comentarios" matInput ></textarea>
      </mat-form-field>
    </div>
    <div class="col-12">
      <button
        [disabled]=" !selectedDetention && !selectedMachine"
        (click)="crear()"
        mat-raised-button
        class="fR">Crear</button>
    </div>

  </div>
</div>
